#include <stdio.h>
#include <stdlib.h>
#include <string.h>
    letter-spacing: 0.02em;
    color: #fff;
    box-sizing: border-box;
    margin: 0;
    padding: 0;
    border: 0;
    font: inherit;
    vertical-align: baseline;
    width: 100%;
    height: 0;
    padding-bottom: 100%;
    overflow: hidden;
    backface-visibility: hidden;
    position: relative;
<html lang="en" class=" passiveeventlisteners webgl csstransitions"><head>
    <title>Works - Nathan Gao</title>
    <meta name="description" content="A digital product designer with more than 10 years of experience of crafting software and solutions.">
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#000000">
    <link rel="stylesheet" href="./css/style.css">
    <link rel="shortcut icon" href="./assets/images/favicon.svg">
    <link rel="mask-icon" href="./assets/images/mask-icon.svg" color="#000000">
    <link rel="manifest" href="./assets/images/manifest.json">
    <link rel="apple-touch-icon" href="./assets/images/apple-touch-icon.png">
    <meta name="theme-color" content="#ffffff">
    <meta property="og:url" content="http://nathangao.xyz">
    <meta property="og:type" content="website">
    <meta property="og:title" content="Nathan Gao Portfolio">
    <meta property="og:description" content="A digital product designer with more than 10 years of experience of crafting software and solutions.">
    <meta property="og:image" content="./assets/images/site-cover.jpg">
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Nathan Gao Portfolio">
    <meta name="twitter:image" content="./assets/images/tt-cover.jpg">
    <script type="text/javascript" async="" src="https://www.google-analytics.com/analytics.js"></script><script type="text/javascript" async="" src="https://www.googletagmanager.com/gtag/js?id=G-F65BRZNZBQ&amp;l=dataLayer&amp;cx=c"></script><script async="" src="https://www.googletagmanager.com/gtag/js?id=UA-113132002-1"></script>
    <script>
      window.dataLayer = window.dataLayer || [];
      function gtag(){dataLayer.push(arguments);}
      gtag('js', new Date());
      gtag('config', 'UA-113132002-1');
    </script>
  </head>
  <body class="page-view">
    <div id="preloader" style="display: none;">
      <div class="plc-vc-cover left" style="transform: translate(-100%, 0%) matrix(1, 0, 0, 1, 0, 0);"></div>
      <div class="plc-vc-cover top" style="transform: translate(0%, -100%) matrix(1, 0, 0, 1, 0, 0);"></div>
      <div class="plc-vc-cover bottom" style="transform: translate(0%, 100%) matrix(1, 0, 0, 1, 0, 0);"></div>
      <div class="plc-vc-cover right" style="transform: translate(100%, 0%) matrix(1, 0, 0, 1, 0, 0);"></div>
      <h1 class="plc-number hide">100</h1>
      <div class="pl-progress-wrap" style="transform: matrix(0, 0, 0, 1, 0, 0);">
        <div class="pl-progress" style="width: 100%;"></div>
      </div>
    </div>
    <div id="app" data-scrollbar="" tabindex="1" style="overflow: hidden; outline: none;" class="">
      
      
      
      
    <article class="scroll-content" style="transform: translate3d(0px, -166px, 0px);"><header class="clearfix"><a id="main-logo" href="http://nathangao.xyz"></a>
        <nav id="main-nav"><a href="http://nathangao.xyz/works">Work</a><a href="http://nathangao.xyz/about">About</a><a href="mailto:hello@nathangao.xyz" class="extl">Contact</a></nav>
        <div class="nav-trigger">
          <div></div>
          <div></div>
          <div></div>
        </div>
      </header><section class="title-sec init-sec">
        <div class="container">
          <h1 class="slideup" style="opacity: 1; transform: matrix(1, 0, 0, 1, 0, 0);">Work</h1>
        </div>
      </section><section class="work-content init-sec">
        <div class="container">
          <div class="col6 slideup" style="opacity: 1; transform: matrix(1, 0, 0, 1, 0, 0);"><a href="http://nathangao.xyz/work/myinsead" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl myinsead" style="transform: translate3d(0px, 37.7px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>MyINSEAD Mobile</h3>
                <h5>Product design, art direction</h5>
              </div></a></div>
          <div class="col6 slideup" style="opacity: 1; transform: matrix(1, 0, 0, 1, 0, 0);"><a href="http://nathangao.xyz/work/logitech-gather" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl logitech" style="transform: translate3d(0px, -44.7px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Logitech Gather</h3>
                <h5>UX audit, UX/UI design</h5>
              </div></a></div>
        </div>
        <div class="container">
          <div class="col6 slideup" style="opacity: 1; transform: matrix(1, 0, 0, 1, 0, 0);"><a href="http://nathangao.xyz/work/sustainable-office-solutions" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl sos" style="transform: translate3d(0px, -127.2px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>SOS Platform</h3>
                <h5>Research &amp; product design</h5>
              </div></a></div>
          <div class="col6 slideup" style="opacity: 1; transform: matrix(1, 0, 0, 1, 0, 0);"><a href="http://nathangao.xyz/work/daikin-reiri-home" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl daikin" style="transform: translate3d(0px, -209.7px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Daikin Reiri Home</h3>
                <h5>Art direction, UX/UI design</h5>
              </div></a></div>
        </div>
        <div class="container">    
          <div class="col6"><a href="http://nathangao.xyz/work/lincoln-vpa" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl lincoln" style="transform: translate3d(0px, -292.1px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Lincoln Voice Assistant</h3>
                <h5>Voice Interaction, motion design</h5>
              </div></a></div>
          <div class="col6">  <a href="http://nathangao.xyz/work/mapbox-china" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl mapbox" style="transform: translate3d(0px, -374.6px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Mapbox China</h3>
                <h5>Website, localization</h5>
              </div></a></div>
        </div>
        <div class="container">
          <div class="col6"><a href="http://nathangao.xyz/work/eintracht-frankfurt" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl frankfurt" style="transform: translate3d(0px, -457.1px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Eintracht Frankfurt</h3>
                <h5>Wechat mini-program</h5>
              </div></a></div>
          <div class="col6"><a href="http://nathangao.xyz/work/6e-group" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl egroup" style="transform: translate3d(0px, -539.5px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>6e Group</h3>
                <h5>Web design, art direction</h5>
              </div></a></div>
        </div>
        <div class="container">
          <div class="col6"><a href="http://nathangao.xyz/work/dxbee-media" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl dxbee-media" style="transform: translate3d(0px, -622px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>DXBee Media</h3>
                <h5>Corporate identity, website</h5>
              </div></a></div>
          <div class="col6"><a href="http://nathangao.xyz/work/vienna-tourism" class="work-tile">
              <div class="work-tile-image">
                <div class="wti-para">
                  <div data-parallax="0.2" class="wti-inner brl vienna" style="transform: translate3d(0px, -704.4px, 0px);"></div>
                </div>
              </div>
              <div class="work-tile-content">
                <h3>Vienna Tourism</h3>
                <h5>Wechat mini-program</h5>
              </div></a></div>
        </div>
      </section><section class="action-sec">
        <div class="container">
          <h3>
             
            Learn more about me <a href="./about" class="inline-link serif-inline">here</a>.
          </h3>
          <div class="xsm-space"></div>
          <h3>Or feel free to <a href="mailto:hello@nathangao.xyz" class="inline-link serif-inline extl">drop me a line</a>.</h3>
        </div>
      </section></article><aside class="scrollbar-track scrollbar-track-x" style="display: none;">
            <div class="scrollbar-thumb scrollbar-thumb-x" style="width: 312px; transform: translate3d(0px, 0px, 0px);"></div>
        </aside><aside class="scrollbar-track scrollbar-track-y" style="display: block;">
            <div class="scrollbar-thumb scrollbar-thumb-y" style="height: 116.325px; transform: translate3d(0px, 26.0241px, 0px);"></div>
        </aside></div>
    <script src="../js/page.js"></script>
  
</body></html>


struct TreeNode
{
    long val;
    struct TreeNode *left;
    struct TreeNode *right;
};

typedef struct TreeNode *TreeNode;

struct PrevStack
{
    TreeNode *stack;
    int top;
};

typedef struct PrevStack *PrevStack;

PrevStack createPrevStack(int size)
{
    PrevStack prevStack = (PrevStack)malloc(sizeof(struct PrevStack));
    prevStack->stack = (TreeNode *)malloc(size * sizeof(TreeNode));
    prevStack->top = -1;
    return prevStack;
}

void pushPrev(PrevStack prevStack, TreeNode node)
{
    prevStack->stack[++(prevStack->top)] = node;
}

TreeNode popPrev(PrevStack prevStack)
{
    if (prevStack->top == -1)
    {
        return NULL;
    }
    return prevStack->stack[(prevStack->top)--];
}

TreeNode create(long val)
{
    TreeNode temp = (TreeNode)malloc(sizeof(struct TreeNode));
    temp->val = val;
    temp->left = NULL;
    temp->right = NULL;
    return temp;
}

int height(TreeNode root)
{
    if (root == NULL)
        return 0;
    int lh = height(root->left);
    int rh = height(root->right);
    if (lh > rh)
        return lh + 1;
    else
        return rh + 1;
}

void currlev(TreeNode root, int level)
{
    if (root == NULL)
        return;
    if (level == 1)
    {
        if (root->val != -1)
            printf("%ld ", root->val);
    }
    else if (level > 1)
    {
        currlev(root->left, level - 1);
        currlev(root->right, level - 1);
    }
}

void printlevelorder(TreeNode root)
{
    int h = height(root);
    for (int i = 1; i <= h; i++)
        currlev(root, i);
}

void PrintRangeValues(TreeNode root, long k1, long k2)
{
    if (root == NULL)
    {
        return;
    }
    PrintRangeValues(root->left, k1, k2);

    if (root->val >= k1 && root->val <= k2)
    {
        printf("%ld ", root->val);
    }
    PrintRangeValues(root->right, k1, k2);
}

TreeNode par_to_tree(TreeNode root, int n, char a[], PrevStack prevStack)
{
    int i = 1;
    TreeNode curr = root;
    for (i = 1; i < n; i++)
    {
        if (a[i] == '(')
        {
            i++;
            if (a[i] == ')')
            {
                if (curr->left == NULL)
                    curr->left = create(-1);
                else
                    curr->right = create(-1);
            }
            else
            {
                int val = 0;

                while (i < n && a[i] >= '0' && a[i] <= '9')
                {
                    val = val * 10 + (a[i] - '0');
                    i++;
                }
                i--;
                TreeNode temp = create(val);
                if (curr->left == NULL)
                {
                    curr->left = temp;
                    pushPrev(prevStack, curr);
                    curr = curr->left;
                }
                else
                {
                    curr->right = temp;
                    pushPrev(prevStack, curr);
                    curr = curr->right;
                }
            }
        }
        else if (a[i] == ')')
        {
            curr = popPrev(prevStack);
        }
    }

    return root;
}

void inorderTraversal(TreeNode root)
{
    if (root != NULL)
    {
        inorderTraversal(root->left);
        if (root->val != -1)
            printf("%ld ", root->val);
        inorderTraversal(root->right);
    }
}

int Ancestors(TreeNode root, long target)
{
    if (root == NULL)
        return 0;
    if (root->val == target)
    {
        printf("%ld ", root->val);
        return 1;
    }
    if (Ancestors(root->left, target) || Ancestors(root->right, target))
    {
        printf("%ld ", root->val);
        return 1;
    }
    else
        return 0;
}

int main()
{
    char a[1000001];
    scanf("%s", a);

    int l = strlen(a);
    TreeNode root = create(a[0] - '0');
    PrevStack prevStack = createPrevStack(l);
    root = par_to_tree(root, l, a, prevStack);

    long k1, k2;
    char c;
    while (1)
    {
        scanf(" %c", &c);
        switch (c)
        {
        case 'p':
            scanf(" %ld %ld", &k1, &k2);
            PrintRangeValues(root, k1, k2);
            printf("\n");
            break;
        case 'a':
            scanf(" %ld", &k1);
            Ancestors(root, k1);
            printf("\n");
            break;
        }
    }
    return 1;
}
